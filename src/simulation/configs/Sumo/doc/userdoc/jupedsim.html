<!--
MkDocs version : 1.6.1
Build Date UTC : 22 July 2025 00:12:15
Last edit: 26 June 2025
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta property="og:image" content="images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/jupedsim.html">
        <link rel="shortcut icon" href="images/favicon.ico">
        <title>SUMO-JuPedSim coupling - SUMO Documentation</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/font-awesome.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="js/jquery-3.7.0.min.js" defer></script>
        <script src="js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 

      <script>
        // DARK MODE
        function detectColorScheme(){
          var theme="light";

          if(localStorage.getItem("sumo-docs-theme")){
              if(localStorage.getItem("sumo-docs-theme") == "dark"){
                  var theme = "dark";
              }
          } else if(!window.matchMedia) {
              return false;
          } else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
              var theme = "dark";
          }

          if (theme=="dark") {
              document.documentElement.setAttribute("data-theme", "dark");
          }
        }
        detectColorScheme();
      </script>

    </head>

    <body>

    <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
    <div class="container-fluid">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>

        <!-- Expanded navigation -->
        <div id="navbar-collapse" class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li class="navitem">
                        <a href="index.html" class="nav-link">Documentation</a>
                    </li>
                    <li class="navitem">
                        <a href="Tutorials/index.html" class="nav-link">Tutorials</a>
                    </li>
                    <li class="navitem">
                        <a href="FAQ.html" class="nav-link">FAQ</a>
                    </li>
                    <li class="navitem">
                        <a href="Downloads.html" class="nav-link">Downloads</a>
                    </li>
                    <li class="navitem">
                        <a href="Publications.html" class="nav-link">Publications</a>
                    </li>
                    <li class="navitem">
                        <a href="Developer/index.html" class="nav-link">Developer</a>
                    </li>
                    <li class="navitem">
                        <a href="ChangeLog.html" class="nav-link">ChangeLog</a>
                    </li>
                    <li class="navitem">
                        <a href="https://eclipse.dev/sumo/contact/" class="nav-link">Contact</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav ml-auto">
                <li class="nav-item">
                    <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa-solid fa-magnifying-glass"></i> <u>S</u>earch
                    </a>
                </li>
                    <li class="nav-item">
                        <a rel="edit" href="https://github.com/eclipse-sumo/sumo/edit/main/docs/web/docs/jupedsim.md" class="nav-link"><i class="fa-brands fa-github"></i> <u>E</u>dit on GitHub</a>
                    </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                    More <i class="fa-solid fa-circle-chevron-down"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item no-arrow-link" href="https://github.com/eclipse/sumo/issues">Report a Bug / Issue / Typo</a>
                    <a class="dropdown-item" href="Editing_Articles.html">Help on editing articles</a>
                    <a class="dropdown-item" href="https://github.com/eclipse/sumo/commits/main/docs/web">Recent documentation changes</a>
                    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#mkdocs_keyboard_modal">Keyboard Shortcuts</a>
                    <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                    <span class="dropdown-item" id="dark-mode-div">Dark mode <label id="theme-switch" class="theme-switch" for="checkbox_theme">
                        <input type="checkbox" id="checkbox_theme">
                    </label></span>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="languagedrop" data-toggle="dropdown">
                    <i class="fa-solid fa-language"></i> Languages <i class="fa-solid fa-circle-chevron-down"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                    <span class="dropdown-item">
                        Translations are generated automatically by Google Translate:
                    </span>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=en&_x_tr_tl=de">Deutsch</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=en&_x_tr_tl=es">Español</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=en&_x_tr_tl=fr">Français</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=en&_x_tr_tl=it">Italiano</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=en&_x_tr_tl=zh-CN">简体中文</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=en&_x_tr_tl=zh-TW">繁體中文</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=en&_x_tr_tl=tr">Türkçe</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=en&_x_tr_tl=ja">日本語</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/jupedsim.html?_x_tr_sl=auto&_x_tr_tl=en"><i class="fa-solid fa-arrow-right"></i> Other languages</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container-fluid">
          <div class="row">
                <div class="col-md-3">
                  <div class="text-center"><a href="index.html" style="display: inline-block; margin: 5px 15px;"><img src="images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a>
                <a href="https://www.jupedsim.org" class="no-arrow-link" style="display: inline-block; margin-top: 5px;"><img src="images/jupedsim-logo.svg" alt="SUMO Logo" width="120px"></a></div>
                  
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed mb-1" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa-solid fa-angle-down"></span>
        </button>
    </div>
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll toc">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#introduction">Introduction</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#what_is_it_for" class="nav-link">• What is it for?</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#configuration_possibilities" class="nav-link">• Configuration Possibilities</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#note" class="nav-link">&rarr; NOTE</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#technical_background" class="nav-link">• Technical Background</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#future_perspective" class="nav-link">• Future Perspective</a>
                </li>
        </ul>
    </div>

    <div class="admonition conference" style="position: sticky; margin-top: 20px; margin-bottom:10px;">
        <p>visit <a class="no-arrow-link" href="https://eclipse.dev/sumo">eclipse.dev/sumo</a></p>
    </div>

</div>
                </div>
                <div class="col-md-9 main-area" role="main">
                   <!-- page.is_homepage seems to be broken in Mkdocs > 1.1.0 -->
                  <ul class="breadcrumbs">
    <script>
        var pagePath = "/docs/jupedsim.html";
        var splitUrl = pagePath.split("/");
        splitUrl.pop();
        splitUrl.shift();
        if (splitUrl[0] == 'docs') splitUrl.shift();
        var homeLink = "index.html";
        document.write('<li class="breadcrumb-item"><a href="' + homeLink + '"><i class="fa-solid fa-house"></i></a></li>');
        var prev = '';

        var dirLink = splitUrl.map(function (el) {
        el = prev + el; prev = el + '/'; return el;
        });

        for (let i = 0; i < splitUrl.length; i++) {
            document.write("<li class=\"breadcrumb-item\"><a class=\"no-arrow-link\" href=\"" + dirLink[i] + "\">" + splitUrl[i] + "</a></li>");
        }
    </script>
    <li class="breadcrumb-item active">SUMO-JuPedSim coupling</li>
</ul>
                  <hTitles>SUMO-JuPedSim coupling<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                  
                  

<h1 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">#</a></h1>
<p>When analyzing the movement of crowds in urban areas — such as at train stations or during the arrival and departure phases of major events — it is essential to consider traffic-related aspects.
Factors like the frequency and capacity of trains, the positioning of train doors, and the interaction between cars and pedestrians at intersections significantly influence the dynamics of pedestrians.
To investigate such scenarios holistically, including both traffic and pedestrian dynamics, basic functionalities of <em>JuPedSim</em> have been integrated into <em>Eclipse SUMO</em>.</p>
<p>The Juelich Pedestrian Simulator (<a href="https://www.jupedsim.org/">JuPedSim</a>) is an open-source tool for simulating pedestrian dynamics offering different models for the interaction of pedestrians with their neighbors in a 2D environment. The simulations results provide valuable insights into crowd dynamics usually evaluated by the occurrence of jam, local densities and speed. </p>
<p>For the interaction of pedestrians with their surroundings (neighbors, obstacles, walls, ...) several microscopic <a href="https://www.jupedsim.org/stable/pedestrian_models/">models</a> are available in JuPedSim. These microscopic models allow to reproduce phenomena in large crowds such as arching in front of bottlenecks and lane formation in bi-directional streams. </p>
<p><img alt="" src="images/JuPedSim_arching.gif" /></p>
<p><em>Example of a simulation with JuPedSim for a bottleneck scenario. Arching occurs.</em></p>
<p>The movement of the agents is restricted to 2D space which is referred to as <em>walkable area</em>. The <a href="https://www.jupedsim.org/stable/concepts/geometry.html">walkable area</a> is a closed polygon with holes respresenting obstacles such as trees, pillars or stalls. Agents can move in all directions within the area. This results in a high computational effort, which increases with the number of agents (and thus neighbors) and the size of the walkable area, as wayfinding becomes more complex. Due to its underlying model, JuPedSim operates with a higher temporal resolution than SUMO - typically 0.01 seconds — which makes it the runtime-limiting factor in coupled simulation scenarios.</p>
<p>For <a href="https://www.jupedsim.org/stable/concepts/routing.html">route planning</a> a journey must be defined for each agent. The journey can be a composition of various stages, e.g. exits as a final goal, waypoints that must be passed or waiting positions that are organized as queues or sets. Journeys can be shared by several agents but also multiple journeys can be defined within one simulation scenario.</p>
<p>JuPedSim is provided as a Python package with a C++ core behind and a C-API that is used by SUMO. The <em>SUMO-JuPedSim</em> simulation loop starts with <em>JuPedSim</em> independently updating pedestrian positions </p>
<h2 id="what_is_it_for">What is it for?<a class="headerlink" href="#what_is_it_for" title="Permanent link">#</a></h2>
<p>The integration is particularly useful in scenarios where crowd and traffic dynamics interact, such as:</p>
<ul>
<li>Scenarios involving congestion-prone pedestrian facilities that influence urban traffic flow or vice versa.</li>
<li>Crowded public spaces with connections to vehicular transport systems, e.g., train stations.</li>
<li>Modeling intermodal arrival and departure traffic during major public events.</li>
</ul>
<p>In summary: The <em>SUMO-JuPedSim</em> integration becomes especially relevant when crowd dynamics play a significant role in traffic simulation scenarios.</p>
<p><img alt="" src="images/Fig1_crossing.png" /></p>
<p><em>Simulation snapshot for a crossing scenario with multidirectional pedestrian streams that interact with cars.</em></p>
<p><img alt="" src="images/Fig2_event.png" /></p>
<p><em>Simulation snapshot for the arrival processes to a major event considering different modes of transport (train, car, bus, by foot).</em></p>
<h2 id="configuration_possibilities">Configuration Possibilities<a class="headerlink" href="#configuration_possibilities" title="Permanent link">#</a></h2>
<p>Following functionalities for configuring a <em>JuPedSim</em> simulation in <em>SUMO</em> are available:</p>
<ul>
<li>Precise definition of a 2D <strong>walkable area</strong> that is accessible for <em>JuPedSim</em> agents including obstacles (such as barriers, trees and signs) either via the DXF import tool or by drawing in netedit</li>
<li>Conversion of pedestrian facilities included in a <em>SUMO</em> network to a 2D walkable area</li>
<li>Configuration of <strong>model parameters</strong> for the <code>CollisionFreeSpeedModel</code></li>
<li>Configuration or temporary adjustment of pedestrian speed in defined areas</li>
</ul>
<h4 id="note">NOTE<a class="headerlink" href="#note" title="Permanent link">#</a></h4>
<p>Even though it is in theory possible to use other <em>JuPedSim</em> models, only the <code>CollisionFreeSpeedModel</code> has been tested extensively so far.</p>
<ul>
<li>Configuration of <strong>sources</strong> in which <em>JuPedSim</em> agents are spawned</li>
<li>Configuration of coupled <strong>transfer</strong> points where agents switch from a vehicle (bus, cars or train) to walking or vice versa</li>
<li>Configuration of flexible <strong>routing</strong> (journeys) for agents consisting of intermediate waypoints, distribution waypoints and exits</li>
<li>Configuration of <strong>vanishing zones</strong> at exits to model ticket control at venues according to the capacity of an entrance system</li>
<li><strong>Interaction of cars</strong> and pedestrians in an ordered manner (stopping by management measures)</li>
</ul>
<h2 id="technical_background">Technical Background<a class="headerlink" href="#technical_background" title="Permanent link">#</a></h2>
<p>The <em>SUMO-JuPedSim</em> simulation loop starts with <em>JuPedSim</em> independently updating pedestrian positions over multiple time steps independent of <em>SUMO</em>’s simulation cycle, as the temporal resolution for the pedestrian model is significantly higher.
Once positions are calculated, they are mapped to <em>SUMO</em>’s network in the following way: Pedestrians on regular <em>SUMO</em> lanes (part of the defined network) are assigned to their corresponding edges, while those outside <em>SUMO</em>’s standard network (e.g. inside additionally defined walkable areas) are assigned to the nearest edge for technical consistency.
These edges primarily serve as reference points for waypoints (start, end, or intermediate goals).
After mapping, additional adjustments are made, such as modifying pedestrian speeds or removing agents who reach their destinations or enter predefined <em>vanishing zones</em>.</p>
<p><img alt="" src="images/Fig4_network.png" /></p>
<p><em>Crossing simulation with SUMO striping model.</em></p>
<p><img alt="" src="images/Fig5_network_walkable.png" />!</p>
<p><em>Crossing simulation with SUMO-JuPedSim.</em></p>
<p><img alt="" src="images/Fig6_network_walkable_additional.png" /></p>
<p><em>Crossing simulation with SUMO-JuPedSim and an additional walkable area.</em></p>
<p>To define a journey for the <em>JuPedSim</em> agents in <em>SUMO</em>, a walk (or trip) must be configured by connecting the corresponding edges in the <em>SUMO</em> network (waypoints in <em>JuPedSim</em>).
For dynamic rerouting, the system allows agents to adapt their routes during simulation.
This is particularly useful for scenarios like crowd management, where pedestrians might need to choose between exits (e.g. different exits at platform).
Rerouters — placed on <em>SUMO</em> edges — define probabilistic next-waypoint options, enabling flexible decision-making.
While these rerouters must be edge-based, they don’t require integration into <em>SUMO</em>’s interconnected road network.</p>
<p>Interactions between cars and pedestrians occur in two contexts.
First, in shared spaces (e.g. roads or parking lots), cars treat pedestrians as slow-moving obstacles and adjust their behavior accordingly, though pedestrians currently do not react to vehicles (a feature planned for future implementation).
Second, at crosswalks or traffic lights, <em>SUMO</em>’s “link” concept (which opens or closes paths based on signals) translates into active or inactive waiting positions in <em>JuPedSim</em>.
Pedestrians approach these crossings but only halt if the link is closed.
However, at the time of writing, these waiting positions are static and need to be refined together with better modeling of the waiting behavior.</p>
<h2 id="future_perspective">Future Perspective<a class="headerlink" href="#future_perspective" title="Permanent link">#</a></h2>
<p><em>SUMO-JuPedSim</em> is being continuously developed based on new use cases and emerging research questions.
Our planned developments include the conversion of the striping model into the <em>JuPedSim</em> model within defined areas to enable efficient large-scale traffic simulation including small-scale <em>JuPedSim</em> simulations.
Besides, we are actively working on improving the waiting behavior of pedestrians, which is particularly relevant in scenarios such as waiting at traffic lights or at train stations before boarding.
To support this, an advanced <em>JuPedSim</em> model for waiting is being developed and is planned to be integrated into <em>SUMO</em>.</p>
<p>With the coupled simulators, we have established an open-source framework for advanced modeling in shared spaces, where interactions between different traffic participants become especially complex.</p>
                </div>
          </div>
          <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
        </div>

        <footer class="col-md-12">
          
            <br><small><i>This page was last edited on: 26 June 2025</i></small>
          
          <hr>
            <p>Copyright &copy; 2001-2025 German Aerospace Center (DLR) and others.</p>
          <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa-brands fa-x-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa-brands fa-facebook"></i></a> <a class="no-arrow-link" href="https://www.instagram.com/eclipse.sumo/"><i class="fa-brands fa-instagram"></i></a> <a class="no-arrow-link" href="https://www.threads.net/@eclipse.sumo"><i class="fa-brands fa-threads"></i></a>
          | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a></p>
        </footer>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body" style="color: #495057 !important;">
                <p>Enter your search terms:</p>
                <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                <div class="gcse-search"></div>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }

        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }

        var base_url = ".",
            shortcuts = {"edit": 69, "help": 191, "search": 83};
        </script>
        <script src="js/base.js" defer></script>

        <script>
          const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');

          function switchTheme(e) {
              if (e.target.checked) {
                  localStorage.setItem('sumo-docs-theme', 'dark');
                  document.documentElement.setAttribute('data-theme', 'dark');
                  toggleSwitch.checked = true;
              } else {
                  localStorage.setItem('sumo-docs-theme', 'light');
                  document.documentElement.setAttribute('data-theme', 'light');
                  toggleSwitch.checked = false;
              }
          }

          toggleSwitch.addEventListener('change', switchTheme, false);

          if (document.documentElement.getAttribute("data-theme") == "dark"){
              toggleSwitch.checked = true;
          }
          </script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="color: #495057 !important;">
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help dialog</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search the Documentation</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit current page on GitHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    </div>
</div>
    </body>
</html>